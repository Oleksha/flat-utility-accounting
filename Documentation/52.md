–û—Ç–ª–∏—á–Ω–æ üî•
–î–µ–ª–∞–µ–º **–ø—Ä–æ—Å–º–æ—Ç—Ä PDF –ø—Ä—è–º–æ –≤–Ω—É—Ç—Ä–∏ modal**, –±–µ–∑ —Å–∫–∞—á–∏–≤–∞–Ω–∏—è –∏ –ø–µ—Ä–µ—Ö–æ–¥–æ–≤ ‚Äî —ç—Ç–æ —Ä–µ–∞–ª—å–Ω–æ —Å–∏–ª—å–Ω–æ –ø–æ–¥–Ω–∏–º–∞–µ—Ç UX.

–ù–∏–∂–µ ‚Äî **—á–∏—Å—Ç–∞—è –∏ —Ä–∞–±–æ—á–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è**, –∞–∫–∫—É—Ä–∞—Ç–Ω–æ –≤—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è –≤ —Ç–æ, —á—Ç–æ —É —Ç–µ–±—è —É–∂–µ –µ—Å—Ç—å.

---

# üéØ –ß—Ç–æ –±—É–¥–µ—Ç

–í modal –∫–≤–∏—Ç–∞–Ω—Ü–∏–π:

* —Å–ø–∏—Å–æ–∫ —Ñ–∞–π–ª–æ–≤ —Å–ª–µ–≤–∞
* **PDF –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –ø—Ä—è–º–æ –≤ —ç—Ç–æ–º –∂–µ modal**
* –∫–Ω–æ–ø–∫–∏:

    * –æ—Ç–∫—Ä—ã—Ç—å –≤ –Ω–æ–≤–æ–π –≤–∫–ª–∞–¥–∫–µ
    * —É–¥–∞–ª–∏—Ç—å

---

# üß© –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏

* –∏—Å–ø–æ–ª—å–∑—É–µ–º `<iframe>`
* –∏—Å—Ç–æ—á–Ω–∏–∫ ‚Äî `Storage::url($receipt->file_path)`
* PDF —Ä–µ–Ω–¥–µ—Ä–∏—Ç—Å—è –Ω–∞—Ç–∏–≤–Ω–æ –±—Ä–∞—É–∑–µ—Ä–æ–º (Chrome / Firefox / Edge)

---

# 1Ô∏è‚É£ –û–±–Ω–æ–≤–ª—è–µ–º modal –∫–≤–∏—Ç–∞–Ω—Ü–∏–π

–ó–ê–ú–ï–ù–ò —Ç–µ–ª–æ modal (`modal-body`) –Ω–∞ —ç—Ç–æ üëá

```blade
<div class="modal-body">

    @if($charge->receipts->isEmpty())
        <div class="alert alert-secondary mb-0">
            –ö–≤–∏—Ç–∞–Ω—Ü–∏–π –Ω–µ—Ç
        </div>
    @else
        <div class="row">

            {{-- –°–ø–∏—Å–æ–∫ –∫–≤–∏—Ç–∞–Ω—Ü–∏–π --}}
            <div class="col-md-4 border-end">
                <div class="list-group list-group-flush">
                    @foreach($charge->receipts as $receipt)
                        <button type="button"
                                class="list-group-item list-group-item-action receipt-item"
                                data-pdf-url="{{ Storage::url($receipt->file_path) }}"
                                data-receipt-id="{{ $receipt->id }}">
                            üìÑ {{ $receipt->period->format('m.Y') }}
                        </button>
                    @endforeach
                </div>
            </div>

            {{-- –ü—Ä–æ—Å–º–æ—Ç—Ä PDF --}}
            <div class="col-md-8">
                <iframe id="pdf-preview-{{ $charge->id }}"
                        src=""
                        class="w-100 border rounded"
                        style="height: 70vh;">
                </iframe>
            </div>

        </div>
    @endif

</div>
```

---

# 2Ô∏è‚É£ –ö–Ω–æ–ø–∫–∏ –¥–µ–π—Å—Ç–≤–∏–π (footer modal)

```blade
<div class="modal-footer justify-content-between">

    <a id="open-pdf-{{ $charge->id }}"
       href="#"
       target="_blank"
       class="btn btn-outline-primary d-none">
        –û—Ç–∫—Ä—ã—Ç—å –≤ –Ω–æ–≤–æ–π –≤–∫–ª–∞–¥–∫–µ
    </a>

    <button class="btn btn-secondary"
            data-bs-dismiss="modal">
        –ó–∞–∫—Ä—ã—Ç—å
    </button>
</div>
```

---

# 3Ô∏è‚É£ JS –¥–ª—è –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è PDF

‚ö†Ô∏è **–í–ê–ñ–ù–û**: —ç—Ç–æ—Ç `<script>` –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å **–ø–æ—Å–ª–µ –≤—Å–µ—Ö modal**
(–≤–Ω–∏–∑—É `apartments/show.blade.php`)

```blade
<script>
document.addEventListener('DOMContentLoaded', function () {

    document.querySelectorAll('.receipt-item').forEach(button => {

        button.addEventListener('click', function () {

            const pdfUrl = this.dataset.pdfUrl;

            // –ò—â–µ–º iframe –≤–Ω—É—Ç—Ä–∏ —Ç–µ–∫—É—â–µ–≥–æ modal
            const modal = this.closest('.modal');
            const iframe = modal.querySelector('iframe');
            const openBtn = modal.querySelector('[id^="open-pdf"]');

            iframe.src = pdfUrl;

            openBtn.href = pdfUrl;
            openBtn.classList.remove('d-none');
        });
    });

});
</script>
```

---

# 4Ô∏è‚É£ –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏

### üîπ storage link

```bash
php artisan storage:link
```

–ò–Ω–∞—á–µ `Storage::url()` –Ω–µ –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å.

---

# üéâ –ò—Ç–æ–≥–æ–≤—ã–π UX

* –∫–ª–∏–∫–∞–µ—à—å –Ω–∞ —É—Å–ª—É–≥—É ‚Üí **üìÑ –ö–≤–∏—Ç–∞–Ω—Ü–∏–∏**
* —Å–ª–µ–≤–∞ —Å–ø–∏—Å–æ–∫:

  ```
  üìÑ 01.2025
  üìÑ 02.2025
  ```
* —Å–ø—Ä–∞–≤–∞:

    * **PDF —Å—Ä–∞–∑—É –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è**
* –º–æ–∂–Ω–æ:

    * –ø—Ä–æ–ª–∏—Å—Ç–∞—Ç—å
    * –æ—Ç–∫—Ä—ã—Ç—å –≤ –Ω–æ–≤–æ–π –≤–∫–ª–∞–¥–∫–µ
    * —É–¥–∞–ª–∏—Ç—å (–∫–Ω–æ–ø–∫–∞ —É —Ç–µ–±—è —É–∂–µ –µ—Å—Ç—å)

---

# üöÄ –ß—Ç–æ –º–æ–∂–Ω–æ —É–ª—É—á—à–∏—Ç—å –¥–∞–ª—å—à–µ (–æ—á–µ–Ω—å –ª–µ–≥–∫–æ)

1Ô∏è‚É£ **–ê–≤—Ç–æ–æ—Ç–∫—Ä—ã—Ç–∏–µ –ø–µ—Ä–≤–æ–π –∫–≤–∏—Ç–∞–Ω—Ü–∏–∏**
2Ô∏è‚É£ **–ü–æ–¥—Å–≤–µ—Ç–∫–∞ –≤—ã–±—Ä–∞–Ω–Ω–æ–π –∫–≤–∏—Ç–∞–Ω—Ü–∏–∏**
3Ô∏è‚É£ **–ó–∞–º–µ–Ω–∞ PDF –ø—Ä—è–º–æ —Ç—É—Ç –∂–µ**
4Ô∏è‚É£ **Drag & Drop –≤ iframe**

üëâ –Ø —Ä–µ–∫–æ–º–µ–Ω–¥—É—é —Å—Ä–∞–∑—É —Å–¥–µ–ª–∞—Ç—å **–ø.1 + –ø.2** (5‚Äì10 –º–∏–Ω—É—Ç –∫–æ–¥–∞, UX —Å—Ç–∞–Ω–µ—Ç üî•üî•).
–ï—Å–ª–∏ —Ö–æ—á–µ—à—å ‚Äî –¥–µ–ª–∞–µ–º –¥–∞–ª—å—à–µ.


---

[–ü—Ä–µ–¥—ã–¥—É—â–∞—è —á–∞—Å—Ç—å](51.md) | [–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ](01.md) | [–°–ª–µ–¥—É—é—â–∞—è —á–∞—Å—Ç—å](53.md)


