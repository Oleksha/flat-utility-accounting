## –ü—Ä–æ—Å—Ç–æ–π –∏ —É–¥–æ–±–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

–î–∞–≤–∞–π —Å–¥–µ–ª–∞–µ–º –ø—Ä–æ—Å—Ç–æ–π –∏ —É–¥–æ–±–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –ü–ö –Ω–∞ Blade + Bootstrap.

–û—Ç–ª–∏—á–Ω–æ! –î–∞–≤–∞–π —Å–¥–µ–ª–∞–µ–º **—É–¥–æ–±–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –ü–ö** –Ω–∞ Blade + Bootstrap –¥–ª—è —Ç–≤–æ–µ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è. –Ø –ø—Ä–µ–¥–ª–∞–≥–∞—é —Å–ª–µ–¥—É—é—â–∏–π –ø–æ–¥—Ö–æ–¥:

* **–ì–ª–∞–≤–Ω–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è** —á–µ—Ä–µ–∑ Navbar —Å –±—ã—Å—Ç—Ä—ã–º –¥–æ—Å—Ç—É–ø–æ–º –∫ –∫–≤–∞—Ä—Ç–∏—Ä–∞–º, –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞–º, —É—Å–ª—É–≥–∞–º, —Ç–∞—Ä–∏—Ñ–∞–º, –Ω–∞—á–∏—Å–ª–µ–Ω–∏—è–º –∏ –ø–ª–∞—Ç–µ–∂–∞–º.
* **–°–ø–∏—Å–∫–∏**: —Ç–∞–±–ª–∏—Ü—ã —Å Bootstrap, —Å –∫–Ω–æ–ø–∫–∞–º–∏ ‚Äú–ü—Ä–æ—Å–º–æ—Ç—Ä‚Äù, ‚Äú–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å‚Äù, ‚Äú–£–¥–∞–ª–∏—Ç—å‚Äù.
* **–§–æ—Ä–º—ã**: –ø—Ä–æ—Å—Ç—ã–µ –∏ —á–∏—Å—Ç—ã–µ —Ñ–æ—Ä–º—ã —Å Bootstrap-–∫–ª–∞—Å—Å–∞–º–∏.
* **–ö–∞—Ä—Ç–æ—á–∫–∏/–ø–∞–Ω–µ–ª–∏**: –¥–ª—è –¥–µ—Ç–∞–ª—å–Ω–æ–≥–æ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –∫–≤–∞—Ä—Ç–∏—Ä—ã, –Ω–∞—á–∏—Å–ª–µ–Ω–∏–π –∏ –ø–ª–∞—Ç–µ–∂–µ–π.

---

## **1. –ë–∞–∑–æ–≤—ã–π layout: `layouts/app.blade.php`**

```blade
<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–£—á–µ—Ç –ø–ª–∞—Ç–µ–∂–µ–π –∑–∞ –∫–≤–∞—Ä—Ç–∏—Ä—ã</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-dark bg-dark mb-4">
    <div class="container">
        <a class="navbar-brand" href="{{ route('apartments.index') }}">–ö–≤–∞—Ä—Ç–∏—Ä—ã</a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav ms-auto">
                <li class="nav-item"><a class="nav-link" href="{{ route('apartments.index') }}">–ö–≤–∞—Ä—Ç–∏—Ä—ã</a></li>
                <li class="nav-item"><a class="nav-link" href="{{ route('providers.index') }}">–ü–æ—Å—Ç–∞–≤—â–∏–∫–∏</a></li>
                <li class="nav-item"><a class="nav-link" href="{{ route('services.index') }}">–£—Å–ª—É–≥–∏</a></li>
                <li class="nav-item"><a class="nav-link" href="{{ route('rates.index') }}">–¢–∞—Ä–∏—Ñ—ã</a></li>
                <li class="nav-item"><a class="nav-link" href="{{ route('charges.index') }}">–ù–∞—á–∏—Å–ª–µ–Ω–∏—è</a></li>
                <li class="nav-item"><a class="nav-link" href="{{ route('payments.index') }}">–ü–ª–∞—Ç–µ–∂–∏</a></li>
            </ul>
        </div>
    </div>
</nav>

<div class="container">
    @if(session('success'))
        <div class="alert alert-success">{{ session('success') }}</div>
    @endif

    @yield('content')
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
```

---

## **2. –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Å–ø–∏—Å–∫–∞ –∫–≤–∞—Ä—Ç–∏—Ä: `apartments/index.blade.php`**

```blade
@extends('layouts.app')

@section('content')
<div class="d-flex justify-content-between align-items-center mb-3">
    <h1>–ö–≤–∞—Ä—Ç–∏—Ä—ã</h1>
    <a class="btn btn-primary" href="{{ route('apartments.create') }}">–î–æ–±–∞–≤–∏—Ç—å –∫–≤–∞—Ä—Ç–∏—Ä—É</a>
</div>

<table class="table table-striped table-hover align-middle">
    <thead class="table-dark">
        <tr>
            <th>ID</th>
            <th>–ù–∞–∑–≤–∞–Ω–∏–µ</th>
            <th>–ê–¥—Ä–µ—Å</th>
            <th>–ë–∞–ª–∞–Ω—Å</th>
            <th>–î–µ–π—Å—Ç–≤–∏—è</th>
        </tr>
    </thead>
    <tbody>
        @foreach($apartments as $apartment)
        <tr>
            <td>{{ $apartment->id }}</td>
            <td>{{ $apartment->name }}</td>
            <td>{{ $apartment->address }}</td>
            <td>{{ $apartment->charges->sum('amount') - $apartment->payments->sum('amount') }} ‚ÇΩ</td>
            <td>
                <a class="btn btn-sm btn-info" href="{{ route('apartments.show', $apartment) }}">–ü—Ä–æ—Å–º–æ—Ç—Ä</a>
                <a class="btn btn-sm btn-warning" href="{{ route('apartments.edit', $apartment) }}">–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å</a>
                <form action="{{ route('apartments.destroy', $apartment) }}" method="POST" class="d-inline">
                    @csrf
                    @method('DELETE')
                    <button class="btn btn-sm btn-danger" type="submit" onclick="return confirm('–£–¥–∞–ª–∏—Ç—å –∫–≤–∞—Ä—Ç–∏—Ä—É?')">–£–¥–∞–ª–∏—Ç—å</button>
                </form>
            </td>
        </tr>
        @endforeach
    </tbody>
</table>
@endsection
```

üí° –ó–¥–µ—Å—å –º—ã —Å—Ä–∞–∑—É –ø–æ–∫–∞–∑—ã–≤–∞–µ–º **–±–∞–ª–∞–Ω—Å –∫–≤–∞—Ä—Ç–∏—Ä—ã** –∫–∞–∫ —Ä–∞–∑–Ω–∏—Ü—É –Ω–∞—á–∏—Å–ª–µ–Ω–∏–π –∏ –ø–ª–∞—Ç–µ–∂–µ–π. –î–ª—è —ç—Ç–æ–≥–æ –≤ –º–æ–¥–µ–ª–∏ `Apartment` –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –æ—Ç–Ω–æ—à–µ–Ω–∏—è:

```php
// App\Models\Apartment.php
public function charges()
{
    return $this->hasMany(Charge::class);
}

public function payments()
{
    return $this->hasMany(Payment::class);
}
```

---

## **3. –§–æ—Ä–º–∞ —Å–æ–∑–¥–∞–Ω–∏—è/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∫–≤–∞—Ä—Ç–∏—Ä—ã: `apartments/create.blade.php` –∏ `apartments/edit.blade.php`**

```blade
@extends('layouts.app')

@section('content')
<h1>{{ isset($apartment) ? '–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–≤–∞—Ä—Ç–∏—Ä—É' : '–î–æ–±–∞–≤–∏—Ç—å –∫–≤–∞—Ä—Ç–∏—Ä—É' }}</h1>

<form action="{{ isset($apartment) ? route('apartments.update', $apartment) : route('apartments.store') }}" method="POST">
    @csrf
    @if(isset($apartment)) @method('PUT') @endif

    <div class="mb-3">
        <label class="form-label">–ù–∞–∑–≤–∞–Ω–∏–µ</label>
        <input type="text" name="name" class="form-control" value="{{ $apartment->name ?? old('name') }}" required>
    </div>

    <div class="mb-3">
        <label class="form-label">–ê–¥—Ä–µ—Å</label>
        <input type="text" name="address" class="form-control" value="{{ $apartment->address ?? old('address') }}">
    </div>

    <button class="btn btn-success" type="submit">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
    <a class="btn btn-secondary" href="{{ route('apartments.index') }}">–û—Ç–º–µ–Ω–∞</a>
</form>
@endsection
```

---

## **4. –ü—Ä–æ—Å–º–æ—Ç—Ä –∫–≤–∞—Ä—Ç–∏—Ä—ã: `apartments/show.blade.php`**

```blade
@extends('layouts.app')

@section('content')
<h1>–ö–≤–∞—Ä—Ç–∏—Ä–∞: {{ $apartment->name }}</h1>
<p><strong>–ê–¥—Ä–µ—Å:</strong> {{ $apartment->address }}</p>
<p><strong>–ë–∞–ª–∞–Ω—Å:</strong> {{ $apartment->charges->sum('amount') - $apartment->payments->sum('amount') }} ‚ÇΩ</p>

<h3 class="mt-4">–ù–∞—á–∏—Å–ª–µ–Ω–∏—è</h3>
<table class="table table-sm table-striped">
    <thead>
        <tr>
            <th>–£—Å–ª—É–≥–∞</th>
            <th>–°—É–º–º–∞</th>
            <th>–ü–µ—Ä–∏–æ–¥</th>
        </tr>
    </thead>
    <tbody>
        @foreach($apartment->charges as $charge)
        <tr>
            <td>{{ $charge->service->name }}</td>
            <td>{{ $charge->amount }} ‚ÇΩ</td>
            <td>{{ $charge->period->format('m.Y') }}</td>
        </tr>
        @endforeach
    </tbody>
</table>

<h3 class="mt-4">–ü–ª–∞—Ç–µ–∂–∏</h3>
<table class="table table-sm table-striped">
    <thead>
        <tr>
            <th>–°—É–º–º–∞</th>
            <th>–î–∞—Ç–∞</th>
        </tr>
    </thead>
    <tbody>
        @foreach($apartment->payments as $payment)
        <tr>
            <td>{{ $payment->amount }} ‚ÇΩ</td>
            <td>{{ $payment->payment_date->format('d.m.Y') }}</td>
        </tr>
        @endforeach
    </tbody>
</table>

<a class="btn btn-primary mt-3" href="{{ route('apartments.index') }}">–ù–∞–∑–∞–¥</a>
@endsection
```

üí° –î–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è `service->name` –∏ —Ñ–æ—Ä–º–∞—Ç–∞ –¥–∞—Ç –≤ –º–æ–¥–µ–ª—è—Ö `Charge` –∏ `Payment` –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –æ—Ç–Ω–æ—à–µ–Ω–∏—è –∏ –∫–∞—Å—Ç—ã:

```php
// App\Models\Charge.php
public function service()
{
    return $this->belongsTo(Service::class);
}

protected $dates = ['period'];

// App\Models\Payment.php
protected $dates = ['payment_date'];
```

---

## ‚úÖ –ß—Ç–æ –º—ã –ø–æ–ª—É—á–∞–µ–º

* –ß–∏—Å—Ç—ã–π –∏ —É–¥–æ–±–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –ü–ö.
* –ù–∞–≤–∏–≥–∞—Ü–∏—é —á–µ—Ä–µ–∑ –≤–µ—Ä—Ö–Ω–µ–µ –º–µ–Ω—é.
* –¢–∞–±–ª–∏—Ü—ã —Å Bootstrap –¥–ª—è —Å–ø–∏—Å–∫–æ–≤.
* –ü—Ä–æ—Å—Ç—ã–µ —Ñ–æ—Ä–º—ã —Å–æ–∑–¥–∞–Ω–∏—è/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è.
* –î–µ—Ç–∞–ª—å–Ω—ã–π –ø—Ä–æ—Å–º–æ—Ç—Ä –∫–≤–∞—Ä—Ç–∏—Ä—ã —Å –Ω–∞—á–∏—Å–ª–µ–Ω–∏—è–º–∏ –∏ –ø–ª–∞—Ç–µ–∂–∞–º–∏.

---

–ï—Å–ª–∏ —Ö–æ—á–µ—à—å, —è –º–æ–≥—É **—Å–¥–µ–ª–∞—Ç—å —Ç–∞–∫–æ–π –∂–µ —É–¥–æ–±–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–≤, —É—Å–ª—É–≥, —Ç–∞—Ä–∏—Ñ–æ–≤, –Ω–∞—á–∏—Å–ª–µ–Ω–∏–π –∏ –ø–ª–∞—Ç–µ–∂–µ–π**, —á—Ç–æ–±—ã –≤–µ—Å—å —É—á–µ—Ç —Ä–∞–±–æ—Ç–∞–ª –ø—Ä—è–º–æ –≤ –±—Ä–∞—É–∑–µ—Ä–µ.

–•–æ—á–µ—à—å, —á—Ç–æ–±—ã —è —ç—Ç–æ —Å–¥–µ–ª–∞–ª?

---

[–ü—Ä–µ–¥—ã–¥—É—â–∞—è —á–∞—Å—Ç—å](06.md) | [–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ](01.md) | [–°–ª–µ–¥—É—é—â–∞—è —á–∞—Å—Ç—å](08.md)


