## –ö–∞—Ä–∫–∞—Å Laravel –¥–ª—è —Ç–≤–æ–µ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

X–æ—á—É

–û—Ç–ª–∏—á–Ω–æ! –î–∞–≤–∞–π —Å—Ä–∞–∑—É —Å–¥–µ–ª–∞–µ–º **–∫–∞—Ä–∫–∞—Å Laravel –¥–ª—è —Ç–≤–æ–µ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è** —Å –º–æ–¥–µ–ª—è–º–∏, –º–∏–≥—Ä–∞—Ü–∏—è–º–∏ –∏ –±–∞–∑–æ–≤—ã–º–∏ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞–º–∏ –¥–ª—è CRUD. –Ø –¥–∞–º –≥–æ—Ç–æ–≤—ã–π —Å–∫–µ–ª–µ—Ç, —á—Ç–æ–±—ã –º–æ–∂–Ω–æ –±—ã–ª–æ —Å—Ä–∞–∑—É —Å—Ç–∞—Ä—Ç–æ–≤–∞—Ç—å.

---

## **1. –ú–æ–¥–µ–ª–∏ –∏ –º–∏–≥—Ä–∞—Ü–∏–∏**

### –ú–æ–¥–µ–ª—å: Apartment

```bash
php artisan make:model Apartment -m
```

```php
// database/migrations/xxxx_create_apartments_table.php
Schema::create('apartments', function (Blueprint $table) {
    $table->id();
    $table->string('name');
    $table->string('address')->nullable();
    $table->timestamps();
});
```

---

### –ú–æ–¥–µ–ª—å: Provider

```bash
php artisan make:model Provider -m
```

```php
Schema::create('providers', function (Blueprint $table) {
    $table->id();
    $table->string('name');
    $table->string('phone')->nullable();
    $table->string('email')->nullable();
    $table->string('site_url')->nullable();
    $table->timestamps();
});
```

---

### –ú–æ–¥–µ–ª—å: Service

```bash
php artisan make:model Service -m
```

```php
Schema::create('services', function (Blueprint $table) {
    $table->id();
    $table->string('name');
    $table->timestamps();
});
```

---

### –ú–æ–¥–µ–ª—å: Rate

```bash
php artisan make:model Rate -m
```

```php
Schema::create('rates', function (Blueprint $table) {
    $table->id();
    $table->foreignId('apartment_id')->constrained()->onDelete('cascade');
    $table->foreignId('provider_id')->constrained()->onDelete('cascade');
    $table->foreignId('service_id')->constrained()->onDelete('cascade');
    $table->decimal('price', 10, 2);
    $table->enum('type', ['fixed', 'metered']);
    $table->date('start_date');
    $table->timestamps();
});
```

---

### –ú–æ–¥–µ–ª—å: Charge

```bash
php artisan make:model Charge -m
```

```php
Schema::create('charges', function (Blueprint $table) {
    $table->id();
    $table->foreignId('apartment_id')->constrained()->onDelete('cascade');
    $table->foreignId('service_id')->constrained()->onDelete('cascade');
    $table->decimal('amount', 10, 2);
    $table->date('period');
    $table->string('comment')->nullable();
    $table->timestamps();
});
```

---

### –ú–æ–¥–µ–ª—å: Payment

```bash
php artisan make:model Payment -m
```

```php
Schema::create('payments', function (Blueprint $table) {
    $table->id();
    $table->foreignId('apartment_id')->constrained()->onDelete('cascade');
    $table->decimal('amount', 10, 2);
    $table->date('payment_date');
    $table->string('comment')->nullable();
    $table->timestamps();
});
```

---

## **2. –ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã CRUD**

–î–ª—è –≤—Å–µ—Ö —Å—É—â–Ω–æ—Å—Ç–µ–π –º–æ–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å resource-–∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã:

```bash
php artisan make:controller ApartmentController --resource
php artisan make:controller ProviderController --resource
php artisan make:controller ServiceController --resource
php artisan make:controller RateController --resource
php artisan make:controller ChargeController --resource
php artisan make:controller PaymentController --resource
```

**–ü—Ä–∏–º–µ—Ä –º–µ—Ç–æ–¥–∞ index() –¥–ª—è –∫–≤–∞—Ä—Ç–∏—Ä:**

```php
public function index()
{
    $apartments = Apartment::all();
    return view('apartments.index', compact('apartments'));
}
```

---

## **3. –†–æ—É—Ç—ã**

```php
// routes/web.php
Route::resource('apartments', ApartmentController::class);
Route::resource('providers', ProviderController::class);
Route::resource('services', ServiceController::class);
Route::resource('rates', RateController::class);
Route::resource('charges', ChargeController::class);
Route::resource('payments', PaymentController::class);
```

---

## **4. –®–∞–±–ª–æ–Ω—ã (Blade)**

–ü—Ä–æ—Å—Ç–µ–π—à–∏–π –ø—Ä–∏–º–µ—Ä: `resources/views/apartments/index.blade.php`

```blade
@extends('layouts.app')

@section('content')
<h1>–ö–≤–∞—Ä—Ç–∏—Ä—ã</h1>
<a href="{{ route('apartments.create') }}">–î–æ–±–∞–≤–∏—Ç—å –∫–≤–∞—Ä—Ç–∏—Ä—É</a>
<ul>
@foreach($apartments as $apartment)
    <li>{{ $apartment->name }} - <a href="{{ route('apartments.show', $apartment) }}">–ü—Ä–æ—Å–º–æ—Ç—Ä</a></li>
@endforeach
</ul>
@endsection
```

---

üí° **–î–∞–ª—å—à–µ –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å:**

* –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –Ω–∞—á–∏—Å–ª–µ–Ω–∏–µ –ø–ª–∞—Ç–µ–∂–µ–π –ø–æ —Ç–∞—Ä–∏—Ñ–∞–º –∫–∞–∂–¥—ã–π –º–µ—Å—è—Ü
* –ë–∞–ª–∞–Ω—Å –∫–≤–∞—Ä—Ç–∏—Ä—ã (–Ω–∞—á–∏—Å–ª–µ–Ω–æ ‚Äì –æ–ø–ª–∞—á–µ–Ω–æ)
* –§–∏–ª—å—Ç—Ä—ã –∏ –æ—Ç—á–µ—Ç—ã

---

–ï—Å–ª–∏ —Ö–æ—á–µ—à—å, —è –º–æ–≥—É —Å—Ä–∞–∑—É **—Å–¥–µ–ª–∞—Ç—å –ø–æ–ª–Ω—ã–π —Ä–∞–±–æ—á–∏–π Laravel-–∫–∞—Ä–∫–∞—Å —Å –º–∏–≥—Ä–∞—Ü–∏—è–º–∏, –º–æ–¥–µ–ª—è–º–∏, –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞–º–∏ –∏ –±–∞–∑–æ–≤—ã–º–∏ Blade-—à–∞–±–ª–æ–Ω–∞–º–∏ –¥–ª—è –≤—Å–µ—Ö —Å—É—â–Ω–æ—Å—Ç–µ–π**, —á—Ç–æ–±—ã —Ç—ã –º–æ–≥ —Å—Ä–∞–∑—É –∑–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–æ–µ–∫—Ç –∏ –Ω–∞—á–∞—Ç—å –≤–≤–æ–¥–∏—Ç—å –¥–∞–Ω–Ω—ã–µ.

–•–æ—á–µ—à—å, —á—Ç–æ–±—ã —è —ç—Ç–æ —Å–¥–µ–ª–∞–ª?


---

[–ü—Ä–µ–¥—ã–¥—É—â–∞—è —á–∞—Å—Ç—å](02.md) | [–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ](01.md) | [–°–ª–µ–¥—É—é—â–∞—è —á–∞—Å—Ç—å](04.md)


