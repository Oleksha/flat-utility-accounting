–ú—ã —Å–¥–µ–ª–∞–ª–∏ –ø—Ä–æ—Å–º–æ—Ç—Ä PDF –ø—Ä—è–º–æ –≤–Ω—É—Ç—Ä–∏ modal, –±–µ–∑ —Å–∫–∞—á–∏–≤–∞–Ω–∏—è –∏ –ø–µ—Ä–µ—Ö–æ–¥–æ–≤, —Ç–µ–ø–µ—Ä—å –¥–µ–ª–∞–µ–º 1Ô∏è‚É£ –ê–≤—Ç–æ–æ—Ç–∫—Ä—ã—Ç–∏–µ –ø–µ—Ä–≤–æ–π –∫–≤–∏—Ç–∞–Ω—Ü–∏–∏ 2Ô∏è‚É£ –ü–æ–¥—Å–≤–µ—Ç–∫–∞ –≤—ã–±—Ä–∞–Ω–Ω–æ–π –∫–≤–∏—Ç–∞–Ω—Ü–∏–∏

---

–û—Ç–ª–∏—á–Ω–æ üî•
–≠—Ç–æ –∫–∞–∫ —Ä–∞–∑ **UX-—É—Ä–æ–≤–µ–Ω—å ¬´–¥–æ—Ä–æ–≥–æ –∏ –ø—Ä–∏—è—Ç–Ω–æ¬ª**, –¥–∞–≤–∞–π —Å–¥–µ–ª–∞–µ–º –∞–∫–∫—É—Ä–∞—Ç–Ω–æ –∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ.

–ù–∏–∂–µ ‚Äî **—Ä–∞–±–æ—á–µ–µ —Ä–µ—à–µ–Ω–∏–µ –¥–ª—è Bootstrap 5 + Blade + JS**
(–±–µ–∑ –ª–∏—à–Ω–∏—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫).

---

# üéØ –¶–µ–ª—å

–í modal —Å –∫–≤–∏—Ç–∞–Ω—Ü–∏—è–º–∏:

1Ô∏è‚É£ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–∫—Ä—ã–≤–∞—Ç—å –ø–µ—Ä–≤—É—é –∫–≤–∏—Ç–∞–Ω—Ü–∏—é**
2Ô∏è‚É£ **–ü–æ–¥—Å–≤–µ—á–∏–≤–∞—Ç—å –≤—ã–±—Ä–∞–Ω–Ω—É—é –∫–≤–∏—Ç–∞–Ω—Ü–∏—é**
3Ô∏è‚É£ –†–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∏ –∫–∞–∂–¥–æ–º –æ—Ç–∫—Ä—ã—Ç–∏–∏ modal

---

# üß© –°—Ç—Ä—É–∫—Ç—É—Ä–∞ (–∫–∞–∫ –¥–æ–ª–∂–Ω–æ –≤—ã–≥–ª—è–¥–µ—Ç—å)

–í–Ω—É—Ç—Ä–∏ modal:

* —Å–ª–µ–≤–∞ ‚Äî —Å–ø–∏—Å–æ–∫ –∫–≤–∏—Ç–∞–Ω—Ü–∏–π
* —Å–ø—Ä–∞–≤–∞ ‚Äî `<iframe>` —Å PDF

---

# üß± Blade (modal –∫–≤–∏—Ç–∞–Ω—Ü–∏–π)

```blade
<div class="modal fade" id="receiptsModal-{{ $charge->id }}" tabindex="-1">
    <div class="modal-dialog modal-xl modal-dialog-centered modal-dialog-scrollable">
        <div class="modal-content">

            <div class="modal-header">
                <h5 class="modal-title">
                    –ö–≤–∏—Ç–∞–Ω—Ü–∏–∏ ‚Äî {{ $charge->service->name }}
                </h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
            </div>

            <div class="modal-body d-flex" style="height:70vh">

                {{-- –°–ø–∏—Å–æ–∫ –∫–≤–∏—Ç–∞–Ω—Ü–∏–π --}}
                <div class="list-group me-3 receipts-list" style="width:280px">
                    @foreach($charge->receipts as $receipt)
                        <button
                            type="button"
                            class="list-group-item list-group-item-action receipt-item"
                            data-pdf="{{ Storage::url($receipt->file_path) }}">
                            {{ $receipt->created_at->format('d.m.Y') }}
                        </button>
                    @endforeach
                </div>

                {{-- –ü—Ä–æ—Å–º–æ—Ç—Ä PDF --}}
                <div class="flex-fill border rounded">
                    <iframe class="receipt-preview w-100 h-100"
                            style="border:0"></iframe>
                </div>

            </div>
        </div>
    </div>
</div>
```

---

# ‚öôÔ∏è JavaScript (–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û)

–î–æ–±–∞–≤—å **–æ–¥–∏–Ω —Ä–∞–∑**, –Ω–∞–ø—Ä–∏–º–µ—Ä –≤ `layouts/app.blade.php` –ø–µ—Ä–µ–¥ `</body>`:

```html
<script>
document.addEventListener('shown.bs.modal', function (event) {
    const modal = event.target;

    const list = modal.querySelector('.receipts-list');
    const iframe = modal.querySelector('.receipt-preview');

    if (!list || !iframe) return;

    const items = list.querySelectorAll('.receipt-item');
    if (!items.length) return;

    // üü¢ –°–±—Ä–æ—Å –ø–æ–¥—Å–≤–µ—Ç–∫–∏
    items.forEach(i => i.classList.remove('active'));

    // üü¢ –ê–≤—Ç–æ–æ—Ç–∫—Ä—ã—Ç–∏–µ –ø–µ—Ä–≤–æ–π –∫–≤–∏—Ç–∞–Ω—Ü–∏–∏
    const first = items[0];
    first.classList.add('active');
    iframe.src = first.dataset.pdf;

    // üü¢ –ö–ª–∏–∫ –ø–æ –∫–≤–∏—Ç–∞–Ω—Ü–∏–∏
    items.forEach(item => {
        item.addEventListener('click', () => {
            items.forEach(i => i.classList.remove('active'));
            item.classList.add('active');
            iframe.src = item.dataset.pdf;
        });
    });
});
</script>
```

---

# üé® –ü–æ–¥—Å–≤–µ—Ç–∫–∞ (Bootstrap)

Bootstrap —Å–∞–º –∫—Ä–∞—Å–∏–≤–æ –ø–æ–¥—Å–≤–µ—á–∏–≤–∞–µ—Ç:

```html
.list-group-item.active
```

–ï—Å–ª–∏ —Ö–æ—á–µ—à—å –∫–∞—Å—Ç–æ–º:

```html
<style>
.receipt-item.active {
    background-color: #0d6efd;
    color: #fff;
    font-weight: 500;
}
</style>
```

---

# ‚úÖ –ß—Ç–æ –º—ã –ø–æ–ª—É—á–∏–ª–∏

‚úî –ø–µ—Ä–≤–∞—è –∫–≤–∏—Ç–∞–Ω—Ü–∏—è –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
‚úî –∞–∫—Ç–∏–≤–Ω–∞—è –∫–≤–∏—Ç–∞–Ω—Ü–∏—è –ø–æ–¥—Å–≤–µ—á–µ–Ω–∞
‚úî —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è **–∫–∞–∂–¥–æ–≥–æ –Ω–∞—á–∏—Å–ª–µ–Ω–∏—è**
‚úî –Ω–µ –ª–æ–º–∞–µ—Ç—Å—è –ø—Ä–∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ–º –æ—Ç–∫—Ä—ã—Ç–∏–∏ modal
‚úî –±–µ–∑ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã

---

# üöÄ –î–∞–ª—å—à–µ (–ª–æ–≥–∏—á–Ω–æ–µ —Ä–∞–∑–≤–∏—Ç–∏–µ)

–ú–æ–∂–µ–º –¥–æ–±–∞–≤–∏—Ç—å:

* üìÑ –±–µ–π–¥–∂ ¬´PDF¬ª
* üóë —É–¥–∞–ª–µ–Ω–∏–µ –∫–≤–∏—Ç–∞–Ω—Ü–∏–∏
* üìÖ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫—É –∫–≤–∏—Ç–∞–Ω—Ü–∏–π
* üîÑ –∑–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ –ø–æ—Å–ª–µ–¥–Ω–µ–π –æ—Ç–∫—Ä—ã—Ç–æ–π
* ‚å® —Å—Ç—Ä–µ–ª–∫–∏ ‚Üë ‚Üì –¥–ª—è –Ω–∞–≤–∏–≥–∞—Ü–∏–∏

–°–∫–∞–∂–∏, —á—Ç–æ –¥–µ–ª–∞–µ–º —Å–ª–µ–¥—É—é—â–∏–º —à–∞–≥–æ–º üëå

---

[–ü—Ä–µ–¥—ã–¥—É—â–∞—è —á–∞—Å—Ç—å](52.md) | [–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ](01.md) | [–°–ª–µ–¥—É—é—â–∞—è —á–∞—Å—Ç—å](54.md)


