## –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–∫–∏ (—á–∞—Å—Ç—å 2)

–ü—Ä–∏ –≤—ã–±–æ—Ä–µ –º–µ—Å—è—Ü –∏–ª–∏ –≥–æ–¥ –Ω–∏—á–µ–≥–æ –Ω–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç

–û—Ç–ª–∏—á–Ω–æ, –∑–Ω–∞—á–∏—Ç –∏–¥—ë–º **–≤ —Ä–µ–∂–∏–º –æ—Ç–ª–∞–¥–∫–∏** üëç
–ï—Å–ª–∏ **–ø—Ä–∏ –≤—ã–±–æ—Ä–µ –º–µ—Å—è—Ü–∞ / –≥–æ–¥–∞ –≤–æ–æ–±—â–µ –Ω–∏—á–µ–≥–æ –Ω–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç**, –ø–æ—á—Ç–∏ –≤—Å–µ–≥–¥–∞ –ø—Ä–∏—á–∏–Ω–∞ –æ–¥–Ω–∞ –∏–∑ **4 —Ç–∏–ø–æ–≤—ã—Ö**. –†–∞–∑–±–µ—Ä—ë–º –ø–æ –ø–æ—Ä—è–¥–∫—É –∏ —Ç—ã –∑–∞ 5 –º–∏–Ω—É—Ç –Ω–∞–π–¥—ë—à—å –ø—Ä–æ–±–ª–µ–º—É.

---

# üîç –®–ê–ì 1. –ü—Ä–æ–≤–µ—Ä—è–µ–º: –≤–æ–æ–±—â–µ –ª–∏ JS –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è

## ‚úÖ –°–∞–º—ã–π –≤–∞–∂–Ω—ã–π —Ç–µ—Å—Ç

–í—Å—Ç–∞–≤—å **–í–†–ï–ú–ï–ù–ù–û** –≤ –Ω–∞—á–∞–ª–æ `<script>`:

```html
<script>
document.addEventListener('DOMContentLoaded', function () {
    alert('JS —Ä–∞–±–æ—Ç–∞–µ—Ç');
});
</script>
```

üîπ –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—É
üîπ –û—Ç–∫—Ä–æ–π modal

### üëâ –†–µ–∑—É–ª—å—Ç–∞—Ç:

* ‚ùå **Alert –ù–ï –ø–æ—è–≤–∏–ª—Å—è** ‚Üí JS **–Ω–µ –ø–æ–¥–∫–ª—é—á—ë–Ω / –Ω–µ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è**
* ‚úÖ **Alert –ø–æ—è–≤–∏–ª—Å—è** ‚Üí –∏–¥—ë–º –¥–∞–ª—å—à–µ

---

# ‚ùå –ï–°–õ–ò ALERT –ù–ï –ü–û–Ø–í–ò–õ–°–Ø

### 99% –ø—Ä–∏—á–∏–Ω:

### 1Ô∏è‚É£ –°–∫—Ä–∏–ø—Ç –Ω–∞—Ö–æ–¥–∏—Ç—Å—è **–≤–Ω—É—Ç—Ä–∏ `@section`**, –∫–æ—Ç–æ—Ä—ã–π **–Ω–µ –≤—ã–≤–æ–¥–∏—Ç—Å—è**

–ü—Ä–æ–≤–µ—Ä—å layout (`layouts/app.blade.php`):

```blade
@yield('scripts')
```

–ï—Å–ª–∏ –µ–≥–æ –Ω–µ—Ç ‚Äî —Ç–≤–æ–π JS **–Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –∑–∞–≥—Ä—É–∑–∏—Ç—Å—è**.

### ‚úî –†–µ—à–µ–Ω–∏–µ (–±—ã—Å—Ç—Ä–æ):

–í—Å—Ç–∞–≤—å `<script>` **–ø—Ä—è–º–æ –≤ `apartments/show.blade.php` –≤ —Å–∞–º–æ–º –Ω–∏–∑—É**, **–ü–û–°–õ–ï HTML** (–Ω–µ –≤ section).

---

# ‚úÖ –ï–°–õ–ò ALERT –ü–û–Ø–í–ò–õ–°–Ø ‚Üí JS –∂–∏–≤

–£–±–µ—Ä–∏ `alert` –∏ –∏–¥—ë–º –¥–∞–ª—å—à–µ.

---

# üîç –®–ê–ì 2. –ü—Ä–æ–≤–µ—Ä—è–µ–º, –Ω–∞—Ö–æ–¥—è—Ç—Å—è –ª–∏ —ç–ª–µ–º–µ–Ω—Ç—ã

–î–æ–±–∞–≤—å **console.log**:

```js
console.log(monthSelect, yearSelect, container);
```

–ü–æ–ª–Ω—ã–π –∫—É—Å–æ–∫:

```js
document.addEventListener('DOMContentLoaded', function () {

    const monthSelect = document.getElementById('receipt-month');
    const yearSelect  = document.getElementById('receipt-year');
    const container   = document.getElementById('charges-container');

    console.log(monthSelect, yearSelect, container);
});
```

### üëâ –°–º–æ—Ç—Ä–∏ –≤ DevTools ‚Üí Console:

* ‚ùå `null` ‚Üí **ID –Ω–µ —Å–æ–≤–ø–∞–¥–∞–µ—Ç**
* ‚úÖ HTML-—ç–ª–µ–º–µ–Ω—Ç—ã ‚Üí –∏–¥—ë–º –¥–∞–ª—å—à–µ

---

# ‚ùå –ï–°–õ–ò `null`

–ü—Ä–æ–≤–µ—Ä—å **–¢–û–ß–ù–û–ï —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ id**:

```blade
<select id="receipt-month">
<select id="receipt-year">
<div id="charges-container">
```

‚ö†Ô∏è **–û–ø–µ—á–∞—Ç–∫–∞ = 100% –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç**

---

# üîç –®–ê–ì 3. –ü—Ä–æ–≤–µ—Ä—è–µ–º, –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –ª–∏ `loadCharges`

–î–æ–±–∞–≤—å:

```js
console.log('change detected');
```

```js
monthSelect.addEventListener('change', () => {
    console.log('month changed');
    loadCharges();
});

yearSelect.addEventListener('change', () => {
    console.log('year changed');
    loadCharges();
});
```

### üëâ –ï—Å–ª–∏:

* ‚ùå –ª–æ–≥–æ–≤ –Ω–µ—Ç ‚Üí select –Ω–µ —Ç–æ—Ç
* ‚úÖ –ª–æ–≥–∏ –µ—Å—Ç—å ‚Üí –∏–¥—ë–º –¥–∞–ª—å—à–µ

---

# üîç –®–ê–ì 4. –ü—Ä–æ–≤–µ—Ä—è–µ–º AJAX-–∑–∞–ø—Ä–æ—Å

–û—Ç–∫—Ä–æ–π **DevTools ‚Üí Network ‚Üí Fetch/XHR**

–ü—Ä–∏ –≤—ã–±–æ—Ä–µ –º–µ—Å—è—Ü–∞ –¥–æ–ª–∂–Ω–æ –ø–æ—è–≤–∏—Ç—å—Å—è:

```
charges/by-period?apartment_id=1&year=2025&month=1
```

### ‚ùå –ï—Å–ª–∏ –∑–∞–ø—Ä–æ—Å–∞ –ù–ï–¢:

* `loadCharges()` –Ω–µ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è
* –æ—à–∏–±–∫–∞ JS –≤—ã—à–µ (—Å–º–æ—Ç—Ä–∏ Console)

### ‚ùå –ï—Å–ª–∏ –∑–∞–ø—Ä–æ—Å –µ—Å—Ç—å, –Ω–æ:

* **403** ‚Üí CSRF / middleware
* **404** ‚Üí –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ä–æ—É—Ç
* **500** ‚Üí –æ—à–∏–±–∫–∞ –≤ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–µ

---

# üîç –®–ê–ì 5. –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ä–æ—É—Ç

–í—ã–ø–æ–ª–Ω–∏:

```bash
php artisan route:list | grep byPeriod
```

–î–æ–ª–∂–Ω–æ –±—ã—Ç—å:

```
GET  charges/by-period  charges.byPeriod
```

–ï—Å–ª–∏ –Ω–µ—Ç ‚Äî **—Ä–æ—É—Ç –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç**.

---

# üîç –®–ê–ì 6. –ü—Ä–æ–≤–µ—Ä—è–µ–º –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä

`ChargeController.php`

```php
public function byPeriod(Request $request)
{
    return Charge::with('service')
        ->where('apartment_id', $request->apartment_id)
        ->whereYear('period', $request->year)
        ->whereMonth('period', $request->month)
        ->get();
}
```

‚ö†Ô∏è **–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ `with('service')`**, –∏–Ω–∞—á–µ JS —É–ø–∞–¥—ë—Ç –Ω–∞ `charge.service.name`.

---

# üß® –°–ê–ú–´–ï –ß–ê–°–¢–´–ï –ü–†–ò–ß–ò–ù–´ (90%)

1Ô∏è‚É£ `<script>` **–Ω–µ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –≤–æ–æ–±—â–µ**
2Ô∏è‚É£ `id` –Ω–µ —Å–æ–≤–ø–∞–¥–∞—é—Ç
3Ô∏è‚É£ JS –ø–æ–¥–∫–ª—é—á—ë–Ω **–¥–æ modal HTML**
4Ô∏è‚É£ –û—à–∏–±–∫–∞ –≤ –∫–æ–Ω—Å–æ–ª–∏, –∫–æ—Ç–æ—Ä–∞—è –ª–æ–º–∞–µ—Ç –≤–µ—Å—å —Å–∫—Ä–∏–ø—Ç

---

# ‚úÖ –•–û–ß–ï–®–¨ –ë–´–°–¢–†–û –î–û–ë–ò–¢–¨

–°–∫–æ–ø–∏—Ä—É–π —Å—é–¥–∞:

* **Console errors**
* **Network ‚Üí response** –∑–∞–ø—Ä–æ—Å–∞ (–µ—Å–ª–∏ –µ—Å—Ç—å)
* –≥–¥–µ –∏–º–µ–Ω–Ω–æ —É —Ç–µ–±—è —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω `<script>`

–Ø –ø–æ —ç—Ç–æ–º—É —Å—Ä–∞–∑—É —Å–∫–∞–∂—É **—Ç–æ—á–Ω—É—é –ø—Ä–∏—á–∏–Ω—É**, –±–µ–∑ –≥–∞–¥–∞–Ω–∏–π üëç

---

[–ü—Ä–µ–¥—ã–¥—É—â–∞—è —á–∞—Å—Ç—å](46.md) | [–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ](01.md) | [–°–ª–µ–¥—É—é—â–∞—è —á–∞—Å—Ç—å](48.md)


